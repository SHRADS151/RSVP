<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event RSVP</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for a cleaner look */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md mx-4">
        <h1 id="formTitle" class="text-3xl font-semibold text-center mb-6 text-gray-800"></h1>
        <p id="formMessage" class="text-center text-gray-600 mb-8"></p>
        
        <!-- Form for RSVP data -->
        <form id="rsvpForm" class="space-y-6">
            <div>
                <label for="guest1Name" class="block text-sm font-medium text-gray-700">Guest Full Name 1</label>
                <input type="text" id="guest1Name" name="guest1Name" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
                <label for="guest2Name" class="block text-sm font-medium text-gray-700">Guest Full Name 2 (if accompanying):</label>
                <input type="text" id="guest2Name" name="guest2Name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
                <label for="child1Name" class="block text-sm font-medium text-gray-700">Child's Name</label>
                <input type="text" id="child1Name" name="child1Name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
                <label for="child1Age" class="block text-sm font-medium text-gray-700">Child's Age</label>
                <input type="text" id="child1Age" name="child1Age" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
                <label for="child2Name" class="block text-sm font-medium text-gray-700">If you are bringing a second child, please provide their name:</label>
                <input type="text" id="child2Name" name="child2Name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
                <label for="child2Age" class="block text-sm font-medium text-gray-700">If you are bringing a second child, please provide their age:</label>
                <input type="text" id="child2Age" name="child2Age" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
                <label for="caregiver" class="block text-sm font-medium text-gray-700">Caregiver Name (if you are bringing one):</label>
                <input type="text" id="caregiver" name="caregiver" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            <div>
                <label for="comments" class="block text-sm font-medium text-gray-700">Additional Comments</label>
                <textarea id="comments" name="comments" rows="3" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
            </div>
            
            <button type="submit" class="w-full py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                Submit RSVP
            </button>
        </form>

        <!-- Message container for success/error messages -->
        <div id="messageContainer" class="mt-6 hidden">
            <div id="messageText" class="p-4 rounded-lg text-sm text-center"></div>
        </div>
    </div>

    <script>
        // Use this object to easily customize the form for different events
        const eventConfig = {
            title: "Prithvi's Birthday Celebration!",
            message: "We are so excited to celebrate Prithvi's birthday and would be thrilled if you could join us. Please fill out the form below to confirm your attendance. We can't wait to celebrate this special day with you!"
        };

        // Get the form and message elements
        const form = document.getElementById('rsvpForm');
        const messageContainer = document.getElementById('messageContainer');
        const messageText = document.getElementById('messageText');
        const formTitle = document.getElementById('formTitle');
        const formMessage = document.getElementById('formMessage');

        // Set the dynamic content
        formTitle.textContent = eventConfig.title;
        formMessage.textContent = eventConfig.message;

        // IMPORTANT: Replace this with your Google Apps Script URL after you've deployed it.
        const appsScriptURL = 'https://script.google.com/macros/s/AKfycbxJ8dAb0nEOj9GiG5hKtrxMYhZPQ1Ng3lbMfzoqinwlmZdDemyjzkPky_KY-i9l-Lq9/exec';
        form.addEventListener('submit', async (e) => {
            // Prevent the default form submission
            e.preventDefault();

            // Clear previous messages
            messageContainer.classList.add('hidden');
            messageText.textContent = '';

            // Get form data
            const formData = new FormData(form);
            const data = {};
            for (const [key, value] of formData.entries()) {
                data[key] = value;
            }

            try {
                // Send data to the Google Apps Script web app
                const response = await fetch(appsScriptURL, {
                    method: 'POST',
                    mode: 'no-cors', // Required for Google Apps Script to work with a web form
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                // Display success message
                messageContainer.classList.remove('hidden');
                messageText.textContent = 'Thank you for your RSVP! Your details have been submitted.';
                messageText.classList.add('bg-green-100', 'text-green-800');

                // Reset the form
                form.reset();

            } catch (error) {
                // Display error message
                messageContainer.classList.remove('hidden');
                messageText.textContent = 'Oops! Something went wrong. Please try again.';
                messageText.classList.add('bg-red-100', 'text-red-800');
                console.error('Submission error:', error);
            }
        });
    </script>
</body>
</html>





